<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "axis": {"labelFontSize": 15, "titleFontSize": 15}, "legend": {"labelFontSize": 20}, "point": {"size": 500}}, "layer": [{"mark": {"type": "point", "filled": true}, "encoding": {"color": {"type": "nominal", "field": "Country"}, "opacity": {"value": 0.7}, "tooltip": [{"type": "nominal", "field": "Country"}, {"type": "quantitative", "field": "Crime_Value"}, {"type": "quantitative", "field": "Happiness Score"}], "x": {"type": "quantitative", "field": "Crime_Value", "scale": {"domain": [0, 27]}}, "y": {"type": "quantitative", "field": "Happiness Score", "scale": {"domain": [4, 9]}}}, "selection": {"Select": {"type": "single", "fields": ["year"], "init": {"year": 2015}, "bind": {"input": "range", "max": 2019, "min": 2015, "step": 1}}}}, {"layer": [{"mark": {"type": "point", "filled": true}, "encoding": {"color": {"type": "nominal", "field": "Country"}, "opacity": {"value": 0.7}, "tooltip": [{"type": "nominal", "field": "Country"}, {"type": "quantitative", "field": "Crime_Value"}, {"type": "quantitative", "field": "Happiness Score"}], "x": {"type": "quantitative", "field": "Crime_Value", "scale": {"domain": [0, 27]}}, "y": {"type": "quantitative", "field": "Happiness Score", "scale": {"domain": [4, 9]}}}}, {"mark": "line", "encoding": {"color": {"type": "nominal", "field": "Country"}, "opacity": {"value": 0.7}, "tooltip": [{"type": "nominal", "field": "Country"}, {"type": "quantitative", "field": "Crime_Value"}, {"type": "quantitative", "field": "Happiness Score"}], "x": {"type": "quantitative", "field": "Crime_Value", "scale": {"domain": [0, 27]}}, "y": {"type": "quantitative", "field": "Happiness Score", "scale": {"domain": [4, 9]}}}, "transform": [{"on": "Crime_Value", "regression": "Happiness Score"}]}]}], "data": {"name": "data-6de3c60c0c4250a9628c71a1792d3dc7"}, "height": 800, "transform": [{"filter": {"selection": "Select"}}], "width": 1600, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-6de3c60c0c4250a9628c71a1792d3dc7": [{"Country": "Switzerland", "Happiness Score": 7.587000000000001, "year": 2015, "Crime_Value": 11.9}, {"Country": "Iceland", "Happiness Score": 7.561, "year": 2015, "Crime_Value": 2.2}, {"Country": "Denmark", "Happiness Score": 7.527, "year": 2015, "Crime_Value": 7.7}, {"Country": "Norway", "Happiness Score": 7.522, "year": 2015, "Crime_Value": 5.7}, {"Country": "Finland", "Happiness Score": 7.406000000000001, "year": 2015, "Crime_Value": 7.3}, {"Country": "Netherlands", "Happiness Score": 7.377999999999999, "year": 2015, "Crime_Value": 17.4}, {"Country": "Sweden", "Happiness Score": 7.364, "year": 2015, "Crime_Value": 10.9}, {"Country": "Austria", "Happiness Score": 7.2, "year": 2015, "Crime_Value": 12.9}, {"Country": "Luxembourg", "Happiness Score": 6.946000000000001, "year": 2015, "Crime_Value": 14.9}, {"Country": "Ireland", "Happiness Score": 6.94, "year": 2015, "Crime_Value": 10.9}, {"Country": "Belgium", "Happiness Score": 6.937, "year": 2015, "Crime_Value": 16.1}, {"Country": "United Kingdom", "Happiness Score": 6.867000000000001, "year": 2015, "Crime_Value": 16.6}, {"Country": "Germany", "Happiness Score": 6.75, "year": 2015, "Crime_Value": 13.8}, {"Country": "France", "Happiness Score": 6.575, "year": 2015, "Crime_Value": 14.2}, {"Country": "Czech Republic", "Happiness Score": 6.505, "year": 2015, "Crime_Value": 12.0}, {"Country": "Spain", "Happiness Score": 6.329, "year": 2015, "Crime_Value": 10.0}, {"Country": "Malta", "Happiness Score": 6.3020000000000005, "year": 2015, "Crime_Value": 11.0}, {"Country": "Slovakia", "Happiness Score": 5.995, "year": 2015, "Crime_Value": 7.3}, {"Country": "Italy", "Happiness Score": 5.9479999999999995, "year": 2015, "Crime_Value": 19.4}, {"Country": "Slovenia", "Happiness Score": 5.848, "year": 2015, "Crime_Value": 9.2}, {"Country": "Lithuania", "Happiness Score": 5.832999999999999, "year": 2015, "Crime_Value": 4.6}, {"Country": "Poland", "Happiness Score": 5.791, "year": 2015, "Crime_Value": 5.8}, {"Country": "Croatia", "Happiness Score": 5.7589999999999995, "year": 2015, "Crime_Value": 2.8}, {"Country": "Cyprus", "Happiness Score": 5.689, "year": 2015, "Crime_Value": 12.0}, {"Country": "Estonia", "Happiness Score": 5.428999999999999, "year": 2015, "Crime_Value": 11.8}, {"Country": "Montenegro", "Happiness Score": 5.192, "year": 2015, "Crime_Value": 7.3}, {"Country": "Romania", "Happiness Score": 5.124, "year": 2015, "Crime_Value": 13.1}, {"Country": "Serbia", "Happiness Score": 5.122999999999999, "year": 2015, "Crime_Value": 16.8}, {"Country": "Portugal", "Happiness Score": 5.102, "year": 2015, "Crime_Value": 10.5}, {"Country": "Latvia", "Happiness Score": 5.098, "year": 2015, "Crime_Value": 11.8}, {"Country": "Greece", "Happiness Score": 4.857, "year": 2015, "Crime_Value": 12.8}, {"Country": "Hungary", "Happiness Score": 4.8, "year": 2015, "Crime_Value": 10.6}, {"Country": "Bulgaria", "Happiness Score": 4.218, "year": 2015, "Crime_Value": 26.3}, {"Country": "Denmark", "Happiness Score": 7.526, "year": 2016, "Crime_Value": 8.4}, {"Country": "Switzerland", "Happiness Score": 7.5089999999999995, "year": 2016, "Crime_Value": 10.9}, {"Country": "Iceland", "Happiness Score": 7.501, "year": 2016, "Crime_Value": 2.2}, {"Country": "Norway", "Happiness Score": 7.497999999999999, "year": 2016, "Crime_Value": 4.6}, {"Country": "Finland", "Happiness Score": 7.412999999999999, "year": 2016, "Crime_Value": 6.5}, {"Country": "Netherlands", "Happiness Score": 7.3389999999999995, "year": 2016, "Crime_Value": 16.9}, {"Country": "Sweden", "Happiness Score": 7.291, "year": 2016, "Crime_Value": 12.7}, {"Country": "Austria", "Happiness Score": 7.119, "year": 2016, "Crime_Value": 12.4}, {"Country": "Germany", "Happiness Score": 6.994, "year": 2016, "Crime_Value": 14.1}, {"Country": "Belgium", "Happiness Score": 6.928999999999999, "year": 2016, "Crime_Value": 13.3}, {"Country": "Ireland", "Happiness Score": 6.907, "year": 2016, "Crime_Value": 9.7}, {"Country": "Luxembourg", "Happiness Score": 6.871, "year": 2016, "Crime_Value": 12.2}, {"Country": "United Kingdom", "Happiness Score": 6.725, "year": 2016, "Crime_Value": 16.8}, {"Country": "Czech Republic", "Happiness Score": 6.596, "year": 2016, "Crime_Value": 11.7}, {"Country": "Malta", "Happiness Score": 6.4879999999999995, "year": 2016, "Crime_Value": 10.4}, {"Country": "France", "Happiness Score": 6.478, "year": 2016, "Crime_Value": 14.8}, {"Country": "Spain", "Happiness Score": 6.361000000000001, "year": 2016, "Crime_Value": 10.3}, {"Country": "Slovakia", "Happiness Score": 6.077999999999999, "year": 2016, "Crime_Value": 6.9}, {"Country": "Italy", "Happiness Score": 5.977, "year": 2016, "Crime_Value": 14.7}, {"Country": "Poland", "Happiness Score": 5.835, "year": 2016, "Crime_Value": 5.6}, {"Country": "Lithuania", "Happiness Score": 5.813, "year": 2016, "Crime_Value": 3.4}, {"Country": "Slovenia", "Happiness Score": 5.768, "year": 2016, "Crime_Value": 8.5}, {"Country": "Latvia", "Happiness Score": 5.56, "year": 2016, "Crime_Value": 10.0}, {"Country": "Cyprus", "Happiness Score": 5.546, "year": 2016, "Crime_Value": 9.8}, {"Country": "Romania", "Happiness Score": 5.528, "year": 2016, "Crime_Value": 14.1}, {"Country": "Estonia", "Happiness Score": 5.517, "year": 2016, "Crime_Value": 9.2}, {"Country": "Croatia", "Happiness Score": 5.4879999999999995, "year": 2016, "Crime_Value": 3.0}, {"Country": "Serbia", "Happiness Score": 5.1770000000000005, "year": 2016, "Crime_Value": 18.2}, {"Country": "Montenegro", "Happiness Score": 5.1610000000000005, "year": 2016, "Crime_Value": 5.2}, {"Country": "Hungary", "Happiness Score": 5.145, "year": 2016, "Crime_Value": 9.7}, {"Country": "Portugal", "Happiness Score": 5.122999999999999, "year": 2016, "Crime_Value": 7.8}, {"Country": "Greece", "Happiness Score": 5.033, "year": 2016, "Crime_Value": 11.8}, {"Country": "Bulgaria", "Happiness Score": 4.217, "year": 2016, "Crime_Value": 25.0}, {"Country": "Norway", "Happiness Score": 7.537000179290769, "year": 2017, "Crime_Value": 3.8}, {"Country": "Denmark", "Happiness Score": 7.52199983596802, "year": 2017, "Crime_Value": 7.8}, {"Country": "Iceland", "Happiness Score": 7.50400018692017, "year": 2017, "Crime_Value": 2.0}, {"Country": "Switzerland", "Happiness Score": 7.49399995803833, "year": 2017, "Crime_Value": 9.1}, {"Country": "Finland", "Happiness Score": 7.468999862670901, "year": 2017, "Crime_Value": 6.2}, {"Country": "Netherlands", "Happiness Score": 7.3769998550415, "year": 2017, "Crime_Value": 15.0}, {"Country": "Sweden", "Happiness Score": 7.28399991989136, "year": 2017, "Crime_Value": 13.0}, {"Country": "Austria", "Happiness Score": 7.00600004196167, "year": 2017, "Crime_Value": 10.9}, {"Country": "Ireland", "Happiness Score": 6.9770002365112305, "year": 2017, "Crime_Value": 9.7}, {"Country": "Germany", "Happiness Score": 6.9510002136230495, "year": 2017, "Crime_Value": 14.2}, {"Country": "Belgium", "Happiness Score": 6.89099979400635, "year": 2017, "Crime_Value": 12.4}, {"Country": "Luxembourg", "Happiness Score": 6.86299991607666, "year": 2017, "Crime_Value": 12.0}, {"Country": "United Kingdom", "Happiness Score": 6.71400022506714, "year": 2017, "Crime_Value": 20.3}, {"Country": "Czech Republic", "Happiness Score": 6.60900020599365, "year": 2017, "Crime_Value": 9.3}, {"Country": "Malta", "Happiness Score": 6.52699995040894, "year": 2017, "Crime_Value": 10.0}, {"Country": "France", "Happiness Score": 6.44199991226196, "year": 2017, "Crime_Value": 13.9}, {"Country": "Spain", "Happiness Score": 6.40299987792969, "year": 2017, "Crime_Value": 8.7}, {"Country": "Slovakia", "Happiness Score": 6.09800004959106, "year": 2017, "Crime_Value": 6.2}, {"Country": "Poland", "Happiness Score": 5.97300004959106, "year": 2017, "Crime_Value": 5.4}, {"Country": "Italy", "Happiness Score": 5.96400022506714, "year": 2017, "Crime_Value": 12.5}, {"Country": "Lithuania", "Happiness Score": 5.90199995040894, "year": 2017, "Crime_Value": 8.2}, {"Country": "Latvia", "Happiness Score": 5.849999904632571, "year": 2017, "Crime_Value": 8.0}, {"Country": "Romania", "Happiness Score": 5.824999809265139, "year": 2017, "Crime_Value": 11.3}, {"Country": "Slovenia", "Happiness Score": 5.75799989700317, "year": 2017, "Crime_Value": 8.0}, {"Country": "Cyprus", "Happiness Score": 5.62099981307983, "year": 2017, "Crime_Value": 12.5}, {"Country": "Estonia", "Happiness Score": 5.61100006103516, "year": 2017, "Crime_Value": 7.3}, {"Country": "Serbia", "Happiness Score": 5.39499998092651, "year": 2017, "Crime_Value": 14.0}, {"Country": "Hungary", "Happiness Score": 5.32399988174438, "year": 2017, "Crime_Value": 7.2}, {"Country": "Croatia", "Happiness Score": 5.2930002212524405, "year": 2017, "Crime_Value": 3.0}, {"Country": "Montenegro", "Happiness Score": 5.23699998855591, "year": 2017, "Crime_Value": 4.1}, {"Country": "Greece", "Happiness Score": 5.2270002365112305, "year": 2017, "Crime_Value": 13.8}, {"Country": "Portugal", "Happiness Score": 5.19500017166138, "year": 2017, "Crime_Value": 7.9}, {"Country": "Bulgaria", "Happiness Score": 4.71400022506714, "year": 2017, "Crime_Value": 23.6}, {"Country": "Finland", "Happiness Score": 7.632000000000001, "year": 2018, "Crime_Value": 7.0}, {"Country": "Norway", "Happiness Score": 7.593999999999999, "year": 2018, "Crime_Value": 4.2}, {"Country": "Denmark", "Happiness Score": 7.555, "year": 2018, "Crime_Value": 7.4}, {"Country": "Iceland", "Happiness Score": 7.495, "year": 2018, "Crime_Value": 2.8}, {"Country": "Switzerland", "Happiness Score": 7.487, "year": 2018, "Crime_Value": 7.9}, {"Country": "Netherlands", "Happiness Score": 7.441, "year": 2018, "Crime_Value": 17.5}, {"Country": "Sweden", "Happiness Score": 7.314, "year": 2018, "Crime_Value": 14.4}, {"Country": "United Kingdom", "Happiness Score": 7.19, "year": 2018, "Crime_Value": 24.2}, {"Country": "Austria", "Happiness Score": 7.138999999999999, "year": 2018, "Crime_Value": 9.7}, {"Country": "Ireland", "Happiness Score": 6.977, "year": 2018, "Crime_Value": 10.0}, {"Country": "Germany", "Happiness Score": 6.965, "year": 2018, "Crime_Value": 13.3}, {"Country": "Belgium", "Happiness Score": 6.9270000000000005, "year": 2018, "Crime_Value": 12.3}, {"Country": "Luxembourg", "Happiness Score": 6.91, "year": 2018, "Crime_Value": 11.3}, {"Country": "Czech Republic", "Happiness Score": 6.711, "year": 2018, "Crime_Value": 7.9}, {"Country": "Malta", "Happiness Score": 6.627000000000001, "year": 2018, "Crime_Value": 12.5}, {"Country": "France", "Happiness Score": 6.489, "year": 2018, "Crime_Value": 14.9}, {"Country": "Spain", "Happiness Score": 6.31, "year": 2018, "Crime_Value": 10.9}, {"Country": "Slovakia", "Happiness Score": 6.172999999999999, "year": 2018, "Crime_Value": 4.8}, {"Country": "Poland", "Happiness Score": 6.122999999999999, "year": 2018, "Crime_Value": 4.8}, {"Country": "Italy", "Happiness Score": 6.0, "year": 2018, "Crime_Value": 11.3}, {"Country": "Lithuania", "Happiness Score": 5.952000000000001, "year": 2018, "Crime_Value": 3.7}, {"Country": "Slovenia", "Happiness Score": 5.9479999999999995, "year": 2018, "Crime_Value": 7.9}, {"Country": "Romania", "Happiness Score": 5.945, "year": 2018, "Crime_Value": 11.5}, {"Country": "Latvia", "Happiness Score": 5.933, "year": 2018, "Crime_Value": 8.6}, {"Country": "Cyprus", "Happiness Score": 5.7620000000000005, "year": 2018, "Crime_Value": 13.9}, {"Country": "Estonia", "Happiness Score": 5.739, "year": 2018, "Crime_Value": 7.4}, {"Country": "Hungary", "Happiness Score": 5.62, "year": 2018, "Crime_Value": 4.8}, {"Country": "Portugal", "Happiness Score": 5.41, "year": 2018, "Crime_Value": 6.5}, {"Country": "Serbia", "Happiness Score": 5.398, "year": 2018, "Crime_Value": 14.7}, {"Country": "Greece", "Happiness Score": 5.358, "year": 2018, "Crime_Value": 13.5}, {"Country": "Montenegro", "Happiness Score": 5.347, "year": 2018, "Crime_Value": 6.2}, {"Country": "Croatia", "Happiness Score": 5.321000000000001, "year": 2018, "Crime_Value": 2.6}, {"Country": "Bulgaria", "Happiness Score": 4.933, "year": 2018, "Crime_Value": 21.8}, {"Country": "Finland", "Happiness Score": 7.769, "year": 2019, "Crime_Value": 6.4}, {"Country": "Denmark", "Happiness Score": 7.6, "year": 2019, "Crime_Value": 7.5}, {"Country": "Norway", "Happiness Score": 7.553999999999999, "year": 2019, "Crime_Value": 4.0}, {"Country": "Iceland", "Happiness Score": 7.494, "year": 2019, "Crime_Value": null}, {"Country": "Netherlands", "Happiness Score": 7.4879999999999995, "year": 2019, "Crime_Value": 16.3}, {"Country": "Switzerland", "Happiness Score": 7.48, "year": 2019, "Crime_Value": 7.1}, {"Country": "Sweden", "Happiness Score": 7.343, "year": 2019, "Crime_Value": 13.0}, {"Country": "Austria", "Happiness Score": 7.246, "year": 2019, "Crime_Value": 8.4}, {"Country": "Luxembourg", "Happiness Score": 7.09, "year": 2019, "Crime_Value": 11.2}, {"Country": "United Kingdom", "Happiness Score": 7.053999999999999, "year": 2019, "Crime_Value": null}, {"Country": "Ireland", "Happiness Score": 7.021, "year": 2019, "Crime_Value": 8.8}, {"Country": "Germany", "Happiness Score": 6.985, "year": 2019, "Crime_Value": 13.1}, {"Country": "Belgium", "Happiness Score": 6.922999999999999, "year": 2019, "Crime_Value": 13.3}, {"Country": "Czech Republic", "Happiness Score": 6.852, "year": 2019, "Crime_Value": 7.8}, {"Country": "Malta", "Happiness Score": 6.726, "year": 2019, "Crime_Value": 13.6}, {"Country": "France", "Happiness Score": 6.5920000000000005, "year": 2019, "Crime_Value": 14.7}, {"Country": "Spain", "Happiness Score": 6.354, "year": 2019, "Crime_Value": 11.6}, {"Country": "Italy", "Happiness Score": 6.223, "year": 2019, "Crime_Value": 9.4}, {"Country": "Slovakia", "Happiness Score": 6.1979999999999995, "year": 2019, "Crime_Value": 5.6}, {"Country": "Poland", "Happiness Score": 6.182, "year": 2019, "Crime_Value": 4.4}, {"Country": "Lithuania", "Happiness Score": 6.149, "year": 2019, "Crime_Value": 3.2}, {"Country": "Slovenia", "Happiness Score": 6.117999999999999, "year": 2019, "Crime_Value": 8.0}, {"Country": "Romania", "Happiness Score": 6.07, "year": 2019, "Crime_Value": 9.6}, {"Country": "Cyprus", "Happiness Score": 6.046, "year": 2019, "Crime_Value": 12.7}, {"Country": "Latvia", "Happiness Score": 5.94, "year": 2019, "Crime_Value": 6.1}, {"Country": "Estonia", "Happiness Score": 5.893, "year": 2019, "Crime_Value": 7.4}, {"Country": "Hungary", "Happiness Score": 5.757999999999999, "year": 2019, "Crime_Value": 5.3}, {"Country": "Portugal", "Happiness Score": 5.693, "year": 2019, "Crime_Value": 6.7}, {"Country": "Serbia", "Happiness Score": 5.603, "year": 2019, "Crime_Value": 10.7}, {"Country": "Montenegro", "Happiness Score": 5.523, "year": 2019, "Crime_Value": null}, {"Country": "Croatia", "Happiness Score": 5.432, "year": 2019, "Crime_Value": 2.7}, {"Country": "Greece", "Happiness Score": 5.287000000000001, "year": 2019, "Crime_Value": 16.9}, {"Country": "Bulgaria", "Happiness Score": 5.011, "year": 2019, "Crime_Value": 20.2}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>